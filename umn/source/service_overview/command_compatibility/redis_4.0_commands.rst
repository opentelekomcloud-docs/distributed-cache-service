:original_name: dcs-pd-200916001.html

.. _dcs-pd-200916001:

Redis 4.0 Commands
==================

DCS for Redis 4.0 is developed based on Redis 4.0.14 and is compatible with open-source protocols and commands.

This section describes DCS for Redis 4.0's compatibility with Redis commands, including supported and disabled commands. For more information about the command syntax, visit the `Redis official website <https://redis.io/commands>`__.

DCS for Redis instances support most Redis commands, which are listed in :ref:`Commands Supported by DCS for Redis 4.0 <dcs-pd-200916001__section2058132020426>`. Any client compatible with the Redis protocol can access DCS.

-  For security purposes, some Redis commands are disabled in DCS, as listed in :ref:`Commands Disabled by DCS for Redis 4.0 <dcs-pd-200916001__section144182915424>`.
-  Some Redis commands are supported by cluster DCS instances for multi-key operations in the same slot. For details, see :ref:`Command Restrictions <dcs-pd-200813003>`.
-  Some Redis commands have usage restrictions, which are described in :ref:`Other Command Usage Restrictions <dcs-pd-200813004>`.

.. _dcs-pd-200916001__section2058132020426:

Commands Supported by DCS for Redis 4.0
---------------------------------------

:ref:`Table 1 <dcs-pd-200916001__table16556145351911>` and :ref:`Table 2 <dcs-pd-200916001__table16968255165120>` list the Redis commands supported by single-node, master/standby, and Redis Cluster DCS Redis 4.0 instances.

.. note::

   -  Commands available since later Redis versions are not supported by earlier-version instances. Run a command on redis-cli to check whether it is supported by DCS for Redis. If the message "(error) ERR unknown command" is returned, the command is not supported.
   -  For DCS Redis 4.0 instances in the Redis Cluster mode, ensure that all commands in a pipeline are executed on the same shard.

.. _dcs-pd-200916001__table16556145351911:

.. table:: **Table 1** Commands supported by single-node, master/standby, and Redis Cluster DCS Redis 4.0 instances (1)

   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | `Keys <https://redis.io/commands#generic>`__ | `String <https://redis.io/commands#string>`__ | `Hash <https://redis.io/commands#hash>`__ | `List <https://redis.io/commands#list>`__ | `Set <https://redis.io/commands#set>`__ | `Sorted Set <https://redis.io/commands#sorted_set>`__ | `Server <https://redis.io/commands#server>`__ |
   +==============================================+===============================================+===========================================+===========================================+=========================================+=======================================================+===============================================+
   | DEL                                          | APPEND                                        | HDEL                                      | BLPOP                                     | SADD                                    | ZADD                                                  | FLUSHALL                                      |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | DUMP                                         | BITCOUNT                                      | HEXISTS                                   | BRPOP                                     | SCARD                                   | ZCARD                                                 | FLUSHDB                                       |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | EXISTS                                       | BITOP                                         | HGET                                      | BRPOPLRUSH                                | SDIFF                                   | ZCOUNT                                                | DBSIZE                                        |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | EXPIRE                                       | BITPOS                                        | HGETALL                                   | LINDEX                                    | SDIFFSTORE                              | ZINCRBY                                               | TIME                                          |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | MOVE                                         | DECR                                          | HINCRBY                                   | LINSERT                                   | SINTER                                  | ZRANGE                                                | INFO                                          |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | PERSIST                                      | DECRBY                                        | HINCRBYFLOAT                              | LLEN                                      | SINTERSTORE                             | ZRANGEBYSCORE                                         | KEYS                                          |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | PTTL                                         | GET                                           | HKEYS                                     | LPOP                                      | SISMEMBER                               | ZRANK                                                 | CLIENT KILL                                   |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | RANDOMKEY                                    | GETRANGE                                      | HMGET                                     | LPUSHX                                    | SMEMBERS                                | ZREMRANGEBYRANK                                       | CLIENT LIST                                   |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | RENAME                                       | GETSET                                        | HMSET                                     | LRANGE                                    | SMOVE                                   | ZREMRANGEBYCORE                                       | CLIENT GETNAME                                |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | RENAMENX                                     | INCR                                          | HSET                                      | LREM                                      | SPOP                                    | ZREVRANGE                                             | CLIENT SETNAME                                |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | RESTORE                                      | INCRBY                                        | HSETNX                                    | LSET                                      | SRANDMEMBER                             | ZREVRANGEBYSCORE                                      | CONFIG GET                                    |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | SORT                                         | INCRBYFLOAT                                   | HVALS                                     | LTRIM                                     | SREM                                    | ZREVRANK                                              | MONITOR                                       |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | TTL                                          | MGET                                          | HSCAN                                     | RPOP                                      | SUNION                                  | ZSCORE                                                | SLOWLOG                                       |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | TYPE                                         | MSET                                          | HSTRLEN                                   | RPOPLPU                                   | SUNIONSTORE                             | ZUNIONSTORE                                           | ROLE                                          |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | SCAN                                         | MSETNX                                        | HLEN                                      | RPOPLPUSH                                 | SSCAN                                   | ZINTERSTORE                                           | SWAPDB                                        |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | OBJECT                                       | PSETEX                                        | ``-``                                     | RPUSH                                     | ``-``                                   | ZSCAN                                                 | MEMORY                                        |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | PEXPIRE                                      | SET                                           | ``-``                                     | RPUSHX                                    | ``-``                                   | ZRANGEBYLEX                                           | CONFIG                                        |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | PEXPIREAT                                    | SETBIT                                        | ``-``                                     | LPUSH                                     | ``-``                                   | ZLEXCOUNT                                             | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | ``-``                                        | SETEX                                         | ``-``                                     | ``-``                                     | ``-``                                   | ZREMRANGEBYSCORE                                      | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | ``-``                                        | SETNX                                         | ``-``                                     | ``-``                                     | ``-``                                   | ZREM                                                  | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | ``-``                                        | SETRANGE                                      | ``-``                                     | ``-``                                     | ``-``                                   | ``-``                                                 | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | ``-``                                        | STRLEN                                        | ``-``                                     | ``-``                                     | ``-``                                   | ``-``                                                 | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | ``-``                                        | BITFIELD                                      | ``-``                                     | ``-``                                     | ``-``                                   | ``-``                                                 | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+

.. _dcs-pd-200916001__table16968255165120:

.. table:: **Table 2** Commands supported by single-node, master/standby, and Redis Cluster DCS Redis 4.0 instances (2)

   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+
   | `HyperLoglog <https://redis.io/commands#hyperloglog>`__ | `Pub/Sub <https://redis.io/commands#pubsub>`__ | `Transactions <https://redis.io/commands#transactions>`__ | `Connection <https://redis.io/commands#connection>`__ | `Scripting <https://redis.io/commands#scripting>`__ | `Geo <https://redis.io/commands#geo>`__ |
   +=========================================================+================================================+===========================================================+=======================================================+=====================================================+=========================================+
   | PFADD                                                   | PSUBSCRIBE                                     | DISCARD                                                   | AUTH                                                  | EVAL                                                | GEOADD                                  |
   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+
   | PFCOUNT                                                 | PUBLISH                                        | EXEC                                                      | ECHO                                                  | EVALSHA                                             | GEOHASH                                 |
   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+
   | PFMERGE                                                 | PUBSUB                                         | MULTI                                                     | PING                                                  | SCRIPT EXISTS                                       | GEOPOS                                  |
   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+
   | ``-``                                                   | PUNSUBSCRIBE                                   | UNWATCH                                                   | QUIT                                                  | SCRIPT FLUSH                                        | GEODIST                                 |
   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+
   | ``-``                                                   | SUBSCRIBE                                      | WATCH                                                     | SELECT (not supported by Redis Cluster instances)     | SCRIPT KILL                                         | GEORADIUS                               |
   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+
   | ``-``                                                   | UNSUBSCRIBE                                    | ``-``                                                     | ``-``                                                 | SCRIPT LOAD                                         | GEORADIUSBYMEMBER                       |
   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+

.. _dcs-pd-200916001__section144182915424:

Commands Disabled by DCS for Redis 4.0
--------------------------------------

The following lists commands disabled by DCS for Redis 4.0.

.. table:: **Table 3** Redis commands disabled in single-node and master/standby Redis 4.0 instances

   +----------------------------------------------+-----------------------------------------------+
   | `Keys <https://redis.io/commands#generic>`__ | `Server <https://redis.io/commands#server>`__ |
   +==============================================+===============================================+
   | MIGRATE                                      | SLAVEOF                                       |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | SHUTDOWN                                      |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | LASTSAVE                                      |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | DEBUG commands                                |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | COMMAND                                       |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | SAVE                                          |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | BGSAVE                                        |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | BGREWRITEAOF                                  |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | SYNC                                          |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | PSYNC                                         |
   +----------------------------------------------+-----------------------------------------------+

.. table:: **Table 4** Redis commands disabled in Redis Cluster Redis 4.0 instances

   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
   | `Keys <https://redis.io/commands#generic>`__ | `Server <https://redis.io/commands#server>`__ | `Cluster <https://redis.io/commands#cluster>`__ |
   +==============================================+===============================================+=================================================+
   | MIGRATE                                      | SLAVEOF                                       | CLUSTER MEET                                    |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
   | ``-``                                        | SHUTDOWN                                      | CLUSTER FLUSHSLOTS                              |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
   | ``-``                                        | LASTSAVE                                      | CLUSTER ADDSLOTS                                |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
   | ``-``                                        | DEBUG commands                                | CLUSTER DELSLOTS                                |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
   | ``-``                                        | COMMAND                                       | CLUSTER SETSLOT                                 |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
   | ``-``                                        | SAVE                                          | CLUSTER BUMPEPOCH                               |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
   | ``-``                                        | BGSAVE                                        | CLUSTER SAVECONFIG                              |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
   | ``-``                                        | BGREWRITEAOF                                  | CLUSTER FORGET                                  |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
   | ``-``                                        | SYNC                                          | CLUSTER REPLICATE                               |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
   | ``-``                                        | PSYNC                                         | CLUSTER COUNT-FAILURE-REPORTS                   |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
   | ``-``                                        | ``-``                                         | CLUSTER FAILOVER                                |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
   | ``-``                                        | ``-``                                         | CLUSTER SET-CONFIG-EPOCH                        |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
   | ``-``                                        | ``-``                                         | CLUSTER RESET                                   |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------------+
