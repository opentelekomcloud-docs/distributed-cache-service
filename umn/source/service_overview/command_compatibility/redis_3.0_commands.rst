:original_name: dcs-pd-200713005.html

.. _dcs-pd-200713005:

Redis 3.0 Commands
==================

DCS for Redis 3.0 is developed based on Redis 3.0.7 and is compatible with open-source protocols and commands.

This section describes DCS for Redis 3.0's compatibility with Redis commands, including supported commands, disabled commands, unsupported scripts and commands of later Redis versions, and restrictions on command usage. For more information about the command syntax, visit the `Redis official website <https://redis.io/commands>`__.

DCS for Redis instances support most Redis commands, which are listed in :ref:`Commands Supported by DCS for Redis 3.0 <dcs-pd-200713005__section2058132020426>`. Any client compatible with the Redis protocol can access DCS.

-  For security purposes, some Redis commands are disabled in DCS, as listed in :ref:`Commands Disabled by DCS for Redis 3.0 <dcs-pd-200713005__section144182915424>`.
-  Some Redis commands are supported by cluster DCS instances for multi-key operations in the same slot. For details, see :ref:`Command Restrictions for Cluster Instances <dcs-pd-200813003>`.
-  Some Redis commands have usage restrictions, which are described in :ref:`Other Command Usage Restrictions <dcs-pd-200813004>`.

.. _dcs-pd-200713005__section2058132020426:

Commands Supported by DCS for Redis 3.0
---------------------------------------

The following lists commands supported by DCS for Redis 3.0.

.. note::

   -  Commands available since later Redis versions are not supported by earlier-version instances. Run a command on redis-cli to check whether it is supported by DCS for Redis. If the message "(error) ERR unknown command" is returned, the command is not supported.
   -  The following commands listed in the tables are not supported by Proxy Cluster instances:

      -  **List** group: **BLPOP**, **BRPOP**, and **BRPOPLRUSH**
      -  **CLIENT** commands in the **Server** group: **CLIENT KILL**, **CLIENT GETNAME**, **CLIENT LIST**, **CLIENT SETNAME**, **CLIENT PAUSE**, and **CLIENT REPLY**.
      -  **Server** group: **MONITOR**
      -  **Key** group: **RANDOMKE** (for old Proxy Cluster instances)

.. table:: **Table 1** Commands supported by DCS Redis 3.0 instances 1

   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | `Keys <https://redis.io/commands#generic>`__ | `String <https://redis.io/commands#string>`__ | `Hash <https://redis.io/commands#hash>`__ | `List <https://redis.io/commands#list>`__ | `Set <https://redis.io/commands#set>`__ | `Sorted Set <https://redis.io/commands#sorted_set>`__ | `Server <https://redis.io/commands#server>`__ |
   +==============================================+===============================================+===========================================+===========================================+=========================================+=======================================================+===============================================+
   | DEL                                          | APPEND                                        | HDEL                                      | BLPOP                                     | SADD                                    | ZADD                                                  | FLUSHALL                                      |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | DUMP                                         | BITCOUNT                                      | HEXISTS                                   | BRPOP                                     | SCARD                                   | ZCARD                                                 | FLUSHDB                                       |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | EXISTS                                       | BITOP                                         | HGET                                      | BRPOPLRUSH                                | SDIFF                                   | ZCOUNT                                                | DBSIZE                                        |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | EXPIRE                                       | BITPOS                                        | HGETALL                                   | LINDEX                                    | SDIFFSTORE                              | ZINCRBY                                               | TIME                                          |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | MOVE                                         | DECR                                          | HINCRBY                                   | LINSERT                                   | SINTER                                  | ZRANGE                                                | INFO                                          |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | PERSIST                                      | DECRBY                                        | HINCRBYFLOAT                              | LLEN                                      | SINTERSTORE                             | ZRANGEBYSCORE                                         | KEYS                                          |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | PTTL                                         | GET                                           | HKEYS                                     | LPOP                                      | SISMEMBER                               | ZRANK                                                 | CLIENT KILL                                   |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | RANDOMKEY                                    | GETRANGE                                      | HMGET                                     | LPUSHX                                    | SMEMBERS                                | ZREMRANGEBYRANK                                       | CLIENT LIST                                   |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | RENAME                                       | GETSET                                        | HMSET                                     | LRANGE                                    | SMOVE                                   | ZREMRANGEBYCORE                                       | CLIENT GETNAME                                |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | RENAMENX                                     | INCR                                          | HSET                                      | LREM                                      | SPOP                                    | ZREVRANGE                                             | CLIENT SETNAME                                |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | RESTORE                                      | INCRBY                                        | HSETNX                                    | LSET                                      | SRANDMEMBER                             | ZREVRANGEBYSCORE                                      | CONFIG GET                                    |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | SORT                                         | INCRBYFLOAT                                   | HVALS                                     | LTRIM                                     | SREM                                    | ZREVRANK                                              | MONITOR                                       |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | TTL                                          | MGET                                          | HSCAN                                     | RPOP                                      | SUNION                                  | ZSCORE                                                | SLOWLOG                                       |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | TYPE                                         | MSET                                          | ``-``                                     | RPOPLPU                                   | SUNIONSTORE                             | ZUNIONSTORE                                           | ROLE                                          |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | SCAN                                         | MSETNX                                        | ``-``                                     | RPOPLPUSH                                 | SSCAN                                   | ZINTERSTORE                                           | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | OBJECT                                       | PSETEX                                        | ``-``                                     | RPUSH                                     | ``-``                                   | ZSCAN                                                 | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | ``-``                                        | SET                                           | ``-``                                     | RPUSHX                                    | ``-``                                   | ZRANGEBYLEX                                           | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | ``-``                                        | SETBIT                                        | ``-``                                     | ``-``                                     | ``-``                                   | ``-``                                                 | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | ``-``                                        | SETEX                                         | ``-``                                     | ``-``                                     | ``-``                                   | ``-``                                                 | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | ``-``                                        | SETNX                                         | ``-``                                     | ``-``                                     | ``-``                                   | ``-``                                                 | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | ``-``                                        | SETRANGE                                      | ``-``                                     | ``-``                                     | ``-``                                   | ``-``                                                 | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+
   | ``-``                                        | STRLEN                                        | ``-``                                     | ``-``                                     | ``-``                                   | ``-``                                                 | ``-``                                         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-------------------------------------------+-----------------------------------------+-------------------------------------------------------+-----------------------------------------------+

.. table:: **Table 2** Commands supported by DCS Redis 3.0 instances 2

   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+
   | `HyperLoglog <https://redis.io/commands#hyperloglog>`__ | `Pub/Sub <https://redis.io/commands#pubsub>`__ | `Transactions <https://redis.io/commands#transactions>`__ | `Connection <https://redis.io/commands#connection>`__ | `Scripting <https://redis.io/commands#scripting>`__ | `Geo <https://redis.io/commands#geo>`__ |
   +=========================================================+================================================+===========================================================+=======================================================+=====================================================+=========================================+
   | PFADD                                                   | PSUBSCRIBE                                     | DISCARD                                                   | AUTH                                                  | EVAL                                                | GEOADD                                  |
   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+
   | PFCOUNT                                                 | PUBLISH                                        | EXEC                                                      | ECHO                                                  | EVALSHA                                             | GEOHASH                                 |
   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+
   | PFMERGE                                                 | PUBSUB                                         | MULTI                                                     | PING                                                  | SCRIPT EXISTS                                       | GEOPOS                                  |
   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+
   | ``-``                                                   | PUNSUBSCRIBE                                   | UNWATCH                                                   | QUIT                                                  | SCRIPT FLUSH                                        | GEODIST                                 |
   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+
   | ``-``                                                   | SUBSCRIBE                                      | WATCH                                                     | SELECT                                                | SCRIPT KILL                                         | GEORADIUS                               |
   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+
   | ``-``                                                   | UNSUBSCRIBE                                    | ``-``                                                     | ``-``                                                 | SCRIPT LOAD                                         | GEORADIUSBYMEMBER                       |
   +---------------------------------------------------------+------------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-----------------------------------------------------+-----------------------------------------+

.. _dcs-pd-200713005__section144182915424:

Commands Disabled by DCS for Redis 3.0
--------------------------------------

The following lists commands disabled by DCS for Redis 3.0.

.. table:: **Table 3** Redis commands disabled in single-node and master/standby Redis 3.0 instances

   +----------------------------------------------+-----------------------------------------------+
   | `Keys <https://redis.io/commands#generic>`__ | `Server <https://redis.io/commands#server>`__ |
   +==============================================+===============================================+
   | MIGRATE                                      | SLAVEOF                                       |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | SHUTDOWN                                      |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | LASTSAVE                                      |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | DEBUG commands                                |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | COMMAND                                       |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | SAVE                                          |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | BGSAVE                                        |
   +----------------------------------------------+-----------------------------------------------+
   | ``-``                                        | BGREWRITEAOF                                  |
   +----------------------------------------------+-----------------------------------------------+

.. table:: **Table 4** Redis commands disabled in Proxy Cluster Redis 3.0 instances

   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | `Keys <https://redis.io/commands#generic>`__ | `Server <https://redis.io/commands#server>`__ | `List <https://redis.io/commands#list>`__ | `Transactions <https://redis.io/commands#transactions>`__ | `Connection <https://redis.io/commands#connection>`__ | `Cluster <https://redis.io/commands#cluster>`__ | codis            |
   +==============================================+===============================================+===========================================+===========================================================+=======================================================+=================================================+==================+
   | MIGRATE                                      | SLAVEOF                                       | BLPOP                                     | DISCARD                                                   | SELECT                                                | CLUSTER                                         | TIME             |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | MOVE                                         | SHUTDOWN                                      | BRPOP                                     | EXEC                                                      | ``-``                                                 | ``-``                                           | SLOTSINFO        |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | ``-``                                        | LASTSAVE                                      | BRPOPLPUSH                                | MULTI                                                     | ``-``                                                 | ``-``                                           | SLOTSDEL         |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | ``-``                                        | DEBUG commands                                | ``-``                                     | UNWATCH                                                   | ``-``                                                 | ``-``                                           | SLOTSMGRTSLOT    |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | ``-``                                        | COMMAND                                       | ``-``                                     | WATCH                                                     | ``-``                                                 | ``-``                                           | SLOTSMGRTONE     |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | ``-``                                        | SAVE                                          | ``-``                                     | ``-``                                                     | ``-``                                                 | ``-``                                           | SLOTSCHECK       |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | ``-``                                        | BGSAVE                                        | ``-``                                     | ``-``                                                     | ``-``                                                 | ``-``                                           | SLOTSMGRTTAGSLOT |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | ``-``                                        | BGREWRITEAOF                                  | ``-``                                     | ``-``                                                     | ``-``                                                 | ``-``                                           | SLOTSMGRTTAGONE  |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | ``-``                                        | SYNC                                          | ``-``                                     | ``-``                                                     | ``-``                                                 | ``-``                                           | ``-``            |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | ``-``                                        | PSYNC                                         | ``-``                                     | ``-``                                                     | ``-``                                                 | ``-``                                           | ``-``            |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | ``-``                                        | MONITOR                                       | ``-``                                     | ``-``                                                     | ``-``                                                 | ``-``                                           | ``-``            |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | ``-``                                        | CLIENT commands                               | ``-``                                     | ``-``                                                     | ``-``                                                 | ``-``                                           | ``-``            |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | ``-``                                        | OBJECT                                        | ``-``                                     | ``-``                                                     | ``-``                                                 | ``-``                                           | ``-``            |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
   | ``-``                                        | ROLE                                          | ``-``                                     | ``-``                                                     | ``-``                                                 | ``-``                                           | ``-``            |
   +----------------------------------------------+-----------------------------------------------+-------------------------------------------+-----------------------------------------------------------+-------------------------------------------------------+-------------------------------------------------+------------------+
