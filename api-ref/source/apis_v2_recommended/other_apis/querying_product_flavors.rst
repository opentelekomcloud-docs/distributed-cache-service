:original_name: ListFlavors.html

.. _ListFlavors:

Querying Product Flavors
========================

Function
--------

This API is used to query the product flavor (parameter **spec_code**) required for configuring a new DCS instance. If no search criterion is specified, all product specifications will be queried by default.

URI
---

GET /v2/{project_id}/flavors

.. table:: **Table 1** Path Parameters

   +------------+-----------+--------+-------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Type   | Description                                                                   |
   +============+===========+========+===============================================================================+
   | project_id | Yes       | String | Project ID. For details, see :ref:`Obtaining a Project ID <dcs-api-0312045>`. |
   +------------+-----------+--------+-------------------------------------------------------------------------------+

.. table:: **Table 2** Query Parameters

   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                                                                                                                                                                                                                         |
   +=================+=================+=================+=====================================================================================================================================================================================================================================================================================================================================================+
   | spec_code       | No              | String          | Product flavor.                                                                                                                                                                                                                                                                                                                                     |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | cache_mode      | No              | String          | DCS instance type. Options:                                                                                                                                                                                                                                                                                                                         |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  **single**: single-node                                                                                                                                                                                                                                                                                                                          |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  **ha**: master/standby                                                                                                                                                                                                                                                                                                                           |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  **cluster**: Redis Cluster                                                                                                                                                                                                                                                                                                                       |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  **proxy**: Proxy Cluster                                                                                                                                                                                                                                                                                                                         |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | engine          | No              | String          | Cache engine. Options:                                                                                                                                                                                                                                                                                                                              |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  Redis                                                                                                                                                                                                                                                                                                                                            |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | engine_version  | No              | String          | Cache engine version. If the cache engine is Redis, the options are as follows:                                                                                                                                                                                                                                                                     |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  3.0                                                                                                                                                                                                                                                                                                                                              |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  4.0                                                                                                                                                                                                                                                                                                                                              |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  5.0                                                                                                                                                                                                                                                                                                                                              |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  6.0                                                                                                                                                                                                                                                                                                                                              |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | cpu_type        | No              | String          | CPU architecture. The options are as follows:                                                                                                                                                                                                                                                                                                       |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  **x86_64**: x86 architecture                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  **aarch64**: Arm architecture                                                                                                                                                                                                                                                                                                                    |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | Enumeration values:                                                                                                                                                                                                                                                                                                                                 |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  **x86_64**                                                                                                                                                                                                                                                                                                                                       |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  **aarch64**                                                                                                                                                                                                                                                                                                                                      |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | capacity        | No              | String          | Cache capacity (GB).                                                                                                                                                                                                                                                                                                                                |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  For a single-node or master/standby DCS Redis 3.0 instance, the value can be **2**, **4**, **8**, **16**, **32**, or **64**. For a Proxy Cluster DCS Redis 3.0 instance, the value can be **64**, **128**, **256**, **512**, or **1024**.                                                                                                        |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 | -  Redis 4.0/5.0/6.0: For a single-node or master/standby instance, the value can be **0.125**, **0.25**, **0.5**, **1**, **2**, **4**, **8**, **16**, **32**, or **64**. For a cluster instance, the value can be **4**, **8**, **16**, **24**, **32**, **48**, **64**, **96**, **128**, **192**, **256**, **384**, **512**, **768**, or **1024**. |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

None

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 3** Response body parameters

   +-----------+---------------------------------------------------------------------------+-------------------------+
   | Parameter | Type                                                                      | Description             |
   +===========+===========================================================================+=========================+
   | flavors   | Array of :ref:`FlavorsItems <listflavors__response_flavorsitems>` objects | Product flavor details. |
   +-----------+---------------------------------------------------------------------------+-------------------------+

.. _listflavors__response_flavorsitems:

.. table:: **Table 4** FlavorsItems

   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | Parameter                | Type                                                                          | Description                                                                                   |
   +==========================+===============================================================================+===============================================================================================+
   | spec_code                | String                                                                        | Product flavor.                                                                               |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | cloud_service_type_code  | String                                                                        | Code of the cloud service type.                                                               |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | cloud_resource_type_code | String                                                                        | Code of the cloud resource type.                                                              |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | cache_mode               | String                                                                        | DCS instance type. Options:                                                                   |
   |                          |                                                                               |                                                                                               |
   |                          |                                                                               | -  **single**: single-node                                                                    |
   |                          |                                                                               |                                                                                               |
   |                          |                                                                               | -  **ha**: master/standby                                                                     |
   |                          |                                                                               |                                                                                               |
   |                          |                                                                               | -  **cluster**: Redis Cluster                                                                 |
   |                          |                                                                               |                                                                                               |
   |                          |                                                                               | -  **proxy**: Proxy Cluster                                                                   |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | engine                   | String                                                                        | Cache engine.                                                                                 |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | engine_version           | String                                                                        | Cache engine version. If the cache engine is Redis, the version can be 3.0, 4.0, 5.0, or 6.0. |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | product_type             | String                                                                        | Edition of DCS for Redis. Value: **generic**: basic edition                                   |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | cpu_type                 | String                                                                        | CPU architecture. The options are as follows:                                                 |
   |                          |                                                                               |                                                                                               |
   |                          |                                                                               | -  **x86_64**: x86 architecture                                                               |
   |                          |                                                                               |                                                                                               |
   |                          |                                                                               | -  **aarch64**: Arm architecture                                                              |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | storage_type             | String                                                                        | Storage type. Currently, only the following value is supported: **DRAM**: in-memory storage   |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | capacity                 | Array of strings                                                              | Cache capacity (GB).                                                                          |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | billing_mode             | Array of strings                                                              | Billing mode. The value can be:                                                               |
   |                          |                                                                               |                                                                                               |
   |                          |                                                                               | -  **Hourly**: pay-per-use                                                                    |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | tenant_ip_count          | Integer                                                                       | Number of tenant IP addresses.                                                                |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | pricing_type             | String                                                                        | Pricing type. The options are as follows:                                                     |
   |                          |                                                                               |                                                                                               |
   |                          |                                                                               | -  **tier**: Tiered pricing. One flavor corresponds to multiple capacity options.             |
   |                          |                                                                               |                                                                                               |
   |                          |                                                                               | -  **normal**: One flavor corresponds to one capacity option.                                 |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | is_dec                   | Boolean                                                                       | Whether Dedicated Cloud (DeC) is supported.                                                   |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | attrs                    | Array of :ref:`AttrsObject <listflavors__response_attrsobject>` objects       | Other information about the flavor.                                                           |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | flavors_available_zones  | Array of :ref:`FlavorAzObject <listflavors__response_flavorazobject>` objects | AZs where there are available resources.                                                      |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | replica_count            | Integer                                                                       | Replicas.                                                                                     |
   +--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------+

.. _listflavors__response_attrsobject:

.. table:: **Table 5** AttrsObject

   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                              |
   +=======================+=======================+==========================================================================================================================================================================================+
   | capacity              | String                | Cache capacity (GB).                                                                                                                                                                     |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                  | String                | Additional information items. The options are as follows:                                                                                                                                |
   |                       |                       |                                                                                                                                                                                          |
   |                       |                       | -  **sharding_num**: Number of shards supported by the flavor.                                                                                                                           |
   |                       |                       |                                                                                                                                                                                          |
   |                       |                       | -  **proxy_num**: Number of proxies supported by Proxy Cluster instances of the specified flavor. If the instance is not a Proxy Cluster instance, the value of this parameter is **0**. |
   |                       |                       |                                                                                                                                                                                          |
   |                       |                       | -  **db_number**: Number of DBs of the flavor.                                                                                                                                           |
   |                       |                       |                                                                                                                                                                                          |
   |                       |                       | -  **max_memory**: Maximum available memory.                                                                                                                                             |
   |                       |                       |                                                                                                                                                                                          |
   |                       |                       | -  **max_connections**: Maximum number of connections supported by the flavor.                                                                                                           |
   |                       |                       |                                                                                                                                                                                          |
   |                       |                       | -  **max_clients**: Maximum number of clients supported by the flavor, which is usually equal to the maximum number of connections.                                                      |
   |                       |                       |                                                                                                                                                                                          |
   |                       |                       | -  **max_bandwidth**: Maximum bandwidth supported by the flavor.                                                                                                                         |
   |                       |                       |                                                                                                                                                                                          |
   |                       |                       | -  **max_in_bandwidth**: Maximum inbound bandwidth supported by the flavor, which is usually equal to the maximum bandwidth.                                                             |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | value                 | String                | Additional information value.                                                                                                                                                            |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _listflavors__response_flavorazobject:

.. table:: **Table 6** FlavorAzObject

   +-----------------+------------------+------------------------------------------+
   | Parameter       | Type             | Description                              |
   +=================+==================+==========================================+
   | capacity        | String           | Cache capacity (value).                  |
   +-----------------+------------------+------------------------------------------+
   | unit            | String           | Cache capacity (unit).                   |
   +-----------------+------------------+------------------------------------------+
   | available_zones | Array of strings | AZ information.                          |
   +-----------------+------------------+------------------------------------------+
   | az_codes        | Array of strings | AZs where there are available resources. |
   +-----------------+------------------+------------------------------------------+

**Status code: 400**

.. table:: **Table 7** Response body parameters

   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                          |
   +=======================+=======================+======================================================================================+
   | error_msg             | String                | Error message.                                                                       |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **1024**                                                                    |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | error_code            | String                | Error code.                                                                          |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **9**                                                                       |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | error_ext_msg         | String                | Extended error information. This parameter is not used currently and is set to null. |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **1024**                                                                    |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+

**Status code: 401**

.. table:: **Table 8** Response body parameters

   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                          |
   +=======================+=======================+======================================================================================+
   | error_msg             | String                | Error message.                                                                       |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **1024**                                                                    |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | error_code            | String                | Error code.                                                                          |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **9**                                                                       |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | error_ext_msg         | String                | Extended error information. This parameter is not used currently and is set to null. |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **1024**                                                                    |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+

**Status code: 403**

.. table:: **Table 9** Response body parameters

   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                          |
   +=======================+=======================+======================================================================================+
   | error_msg             | String                | Error message.                                                                       |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **1024**                                                                    |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | error_code            | String                | Error code.                                                                          |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **9**                                                                       |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | error_ext_msg         | String                | Extended error information. This parameter is not used currently and is set to null. |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **1024**                                                                    |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+

**Status code: 404**

.. table:: **Table 10** Response body parameters

   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                          |
   +=======================+=======================+======================================================================================+
   | error_msg             | String                | Error message.                                                                       |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **1024**                                                                    |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | error_code            | String                | Error code.                                                                          |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **9**                                                                       |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | error_ext_msg         | String                | Extended error information. This parameter is not used currently and is set to null. |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **1024**                                                                    |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+

**Status code: 500**

.. table:: **Table 11** Response body parameters

   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                          |
   +=======================+=======================+======================================================================================+
   | error_msg             | String                | Error message.                                                                       |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **1024**                                                                    |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | error_code            | String                | Error code.                                                                          |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **9**                                                                       |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+
   | error_ext_msg         | String                | Extended error information. This parameter is not used currently and is set to null. |
   |                       |                       |                                                                                      |
   |                       |                       | Maximum: **1024**                                                                    |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------+

Example Requests
----------------

.. code-block:: text

   GET https://{dcs_endpoint}/v2/flavors?cache_mode={cache_mode}&engine={engine}&engine_version={engine_version}&cpu_type={cpu_type}&capacity={capacity}

Example Responses
-----------------

**Status code: 200**

Product flavors queried successfully.

.. code-block::

   {
     "flavors" : [ {
       "spec_code" : "redis.single.au1.large.1",
       "cloud_service_type_code" : "hws.resource.type.dcs3",
       "cloud_resource_type_code" : "hws.resource.type.dcs3",
       "cache_mode" : "single",
       "engine" : "redis",
       "engine_version" : "4.0;5.0",
       "product_type" : "generic",
       "cpu_type" : "aarch64",
       "storage_type" : "DRAM",
       "capacity" : [ "1" ],
       "billing_mode" : [ "Hourly" ],
       "tenant_ip_count" : 1,
       "pricing_type" : "normal",
       "is_dec" : false,
       "attrs" : [ {
         "capacity" : "1",
         "name" : "max_memory",
         "value" : "1"
       }, {
         "capacity" : "1",
         "name" : "max_connections",
         "value" : "10000"
       }, {
         "capacity" : "1",
         "name" : "sharding_num",
         "value" : "1"
       }, {
         "capacity" : "1",
         "name" : "proxy_num",
         "value" : "0"
       }, {
         "capacity" : "1",
         "name" : "db_number",
         "value" : "256"
       }, {
         "capacity" : "1",
         "name" : "max_clients",
         "value" : "10000"
       }, {
         "capacity" : "1",
         "name" : "max_bandwidth",
         "value" : "80"
       } ],
       "flavors_available_zones" : [ {
         "capacity" : "1",
         "unit" : "GB",
         "available_zones" : [ "d539378ec1324c85b76fefa3f7071458" ],
         "az_codes" : [ "region01" ]
       } ],
       "replica_count" : 1
     } ]
   }

**Status code: 400**

Invalid request.

.. code-block::

   {
     "error_code" : "DCS.1004",
     "error_msg" : "Project ID does not match the token."
   }

**Status code: 401**

Invalid authentication information.

.. code-block::

   {
     "error_code" : "DCS.1001",
     "error_msg" : "Invalid token."
   }

**Status code: 403**

The request is rejected.

.. code-block::

   {
     "error_code" : "DCS.2003",
     "error_msg" : "This role does not have the permission to perform this operation."
   }

**Status code: 404**

The requested resource is not found.

.. code-block::

   {
     "error_code" : "DCS.4001",
     "error_msg" : "The requested URL does not exist."
   }

**Status code: 500**

Internal service error.

.. code-block::

   {
     "error_code" : "DCS.5000",
     "error_msg" : "Internal service error."
   }

Status Codes
------------

=========== =====================================
Status Code Description
=========== =====================================
200         Product flavors queried successfully.
400         Invalid request.
401         Invalid authentication information.
403         The request is rejected.
404         The requested resource is not found.
500         Internal service error.
=========== =====================================

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
